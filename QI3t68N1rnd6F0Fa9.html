<html><head><base href="https://websim.ru/alias/" />
<meta charset="UTF-8">
<meta name="viewport" content="width=device-width, initial-scale=1.0, maximum-scale=1.0, user-scalable=no">
<title>ALIAS - Jocul de explicare a cuvintelor</title>
<style>
  :root {
    --ios-blue: #007AFF;
    --ios-light-gray: #F2F2F7;
    --ios-dark-gray: #8E8E93;
    --ios-green: #34C759;
    --ios-red: #FF3B30;
    --ios-orange: #FF9500;
    font-size: 16px;
  }
  
  body {
    font-family: -apple-system, BlinkMacSystemFont, 'Segoe UI', Roboto, Helvetica, Arial, sans-serif;
    margin: 0;
    padding: 0;
    background-color: var(--ios-light-gray);
    color: #000;
    -webkit-font-smoothing: antialiased;
    -moz-osx-font-smoothing: grayscale;
    font-size: 1rem;
  }
  
  .game-container {
    max-width: 100%;
    padding: 0.625rem;
    box-sizing: border-box;
    display: flex;
    flex-direction: column;
    min-height: 100vh;
  }
  
  h1, h2 {
    font-weight: 600;
    text-align: center;
    margin-bottom: 0.625rem;
  }
  
  button {
    display: block;
    width: 100%;
    padding: 0.9375rem;
    margin: 0.3125rem 0;
    background-color: var(--ios-blue);
    color: white;
    border: none;
    border-radius: 0.5rem;
    font-size: 1.125rem;
    font-weight: 600;
    cursor: pointer;
    transition: background-color 0.3s;
    -webkit-tap-highlight-color: transparent;
  }
  
  button:active {
    background-color: #0056b3;
  }
  
  input[type="text"], textarea {
    width: 100%;
    padding: 0.75rem;
    margin: 0.3125rem 0;
    border: 1px solid var(--ios-dark-gray);
    border-radius: 0.5rem;
    font-size: 1rem;
    box-sizing: border-box;
  }
  
  .word-display {
    font-size: 1.75rem;
    font-weight: bold;
    text-align: center;
    margin: 0.625rem 0;
    height: 2rem;
    display: flex;
    align-items: center;
    justify-content: center;
    background-color: white;
    border-radius: 0.75rem;
    padding: 0.9375rem;
    box-shadow: 0 2px 8px rgba(0,0,0,0.1);
  }
  
  .timer {
    font-size: 3.5rem;
    text-align: center;
    margin: 0.625rem 0;
    font-weight: bold;
    color: var(--ios-blue);
  }
  
  .team-scores {
    background-color: white;
    border-radius: 0.75rem;
    padding: 0.9375rem;
    margin-top: -0.3125rem;
    box-shadow: 0 2px 8px rgba(0,0,0,0.1);
    font-size: 1.375rem;
    margin-bottom: 15px;  /* Added this line to move the score table up */
  }
  
  .team-scores div {
    display: flex;
    justify-content: space-between;
    padding: 0.75rem 0;
    border-bottom: 1px solid var(--ios-light-gray);
  }
  
  .team-scores div:last-child {
    border-bottom: none;
  }
  
  #currentTeamScore {
    font-size: 1.5rem;
    font-weight: bold;
    text-align: center;
    margin: 0.9375rem 0;
    color: var(--ios-blue);
    background-color: white;
    padding: 0.9375rem;
    border-radius: 0.75rem;
    box-shadow: 0 2px 8px rgba(0,0,0,0.1);
  }
  
  #fileInput {
    display: none;
  }
  
  .file-input-label {
    display: inline-block;
    padding: 0.75rem;
    background-color: var(--ios-blue);
    color: white;
    border-radius: 0.5rem;
    cursor: pointer;
    text-align: center;
    margin: 0.3125rem 0;
    font-size: 1rem;
    font-weight: 600;
    width: 100%;
    box-sizing: border-box;
  }
  
  #correctButton, #skipButton {
    font-size: 1.375rem;
    padding: 1.375rem;
  }
  
  #correctButton {
    background-color: var(--ios-green);
  }
  
  #skipButton {
    background-color: var(--ios-red);
  }
  
  #nextRoundButton {
    background-color: var(--ios-orange);
    margin-top: 0.625rem;
  }
  
  #gameArea {
    display: flex;
    flex-direction: column;
    justify-content: space-between;
    min-height: 100vh;
  }
  
  .game-buttons {
    display: flex;
    justify-content: space-between;
    margin-top: auto;
    margin-bottom: 30px;  /* Increased this value to move buttons up */
  }
  
  .game-buttons button {
    flex: 1;
    margin: 0 0.3125rem;
  }
  
  .word-input-container {
    margin-top: 0.625rem;
  }
  
  @media (max-width: 600px) {
    :root {
      font-size: 14px;
    }
    
    .game-container {
      padding: 0.5rem;
    }
    
    .word-display {
      font-size: 1.625rem;
      padding: 0.875rem;
    }
    
    .timer {
      font-size: 3.25rem;
    }
    
    button {
      font-size: 1.125rem;
      padding: 0.875rem;
    }
    
    #correctButton, #skipButton {
      font-size: 1.25rem;
      padding: 1.25rem;
    }
    
    h1, h2 {
      font-size: 1.375rem;
      margin-bottom: 0.625rem;
    }
    
    input[type="text"], textarea {
      padding: 0.75rem;
      font-size: 1rem;
    }
    
    .team-scores div {
      font-size: 1.25rem;
      padding: 0.625rem 0;
    }
    
    #currentTeamScore {
      font-size: 1.375rem;
      padding: 0.75rem;
    }
  }

  @media (max-width: 400px) {
    :root {
      font-size: 12px;
    }
  }

  @media (min-width: 1200px) {
    :root {
      font-size: 18px;
    }
    
    .game-container {
      max-width: 1000px;
      margin: 0 auto;
    }
  }
</style>
</head>
<body>
  <div class="game-container">
    <div id="setup">
      <h1>ALIAS</h1>
      <h2>Configurare joc</h2>
      <div id="teamInputs">
        <input type="text" placeholder="Nume echipa 1">
        <input type="text" placeholder="Nume echipa 2">
        <input type="text" placeholder="Nume echipa 3">
        <input type="text" placeholder="Nume echipa 4">
      </div>
      <h2>Introduceți cuvinte</h2>
      <div class="word-input-container">
        <textarea id="wordInput" placeholder="Introduceți cuvintele separate prin virgulă"></textarea>
        <div id="wordStatus"></div>
      </div>
      <h2>sau</h2>
      <label for="fileInput" class="file-input-label">Încarcă fișier cu cuvinte</label>
      <input type="file" id="fileInput" accept=".txt">
      <div id="fileStatus"></div>
      <button id="startGame">Începe jocul</button>
    </div>
    <div id="gameArea" style="display:none;">
      <div class="word-display" id="wordDisplay"></div>
      <div class="timer" id="timer">60</div>
      <div id="currentTeamScore"></div>
      <div class="game-buttons">
        <button id="skipButton">Omite</button>
        <button id="correctButton">Corect</button>
      </div>
      <button id="nextRoundButton" style="display:none;">Următoarea rundă</button>
      <div class="team-scores" id="teamScores"></div>
    </div>
  </div>

  <audio id="endSound" src="https://websim.ru/alias/end_sound.mp3"></audio>

  <script>
    let words = [];
    let teams = [];
    let currentWord = '';
    let currentTeamIndex = 0;
    let timer;
    let timeLeft = 60;

    const setup = document.getElementById('setup');
    const gameArea = document.getElementById('gameArea');
    const wordDisplay = document.getElementById('wordDisplay');
    const timerDisplay = document.getElementById('timer');
    const correctButton = document.getElementById('correctButton');
    const skipButton = document.getElementById('skipButton');
    const teamScores = document.getElementById('teamScores');
    const startGameButton = document.getElementById('startGame');
    const teamInputs = document.getElementById('teamInputs');
    const currentTeamScore = document.getElementById('currentTeamScore');
    const nextRoundButton = document.getElementById('nextRoundButton');
    const wordInput = document.getElementById('wordInput');
    const wordStatus = document.getElementById('wordStatus');
    const fileInput = document.getElementById('fileInput');
    const fileStatus = document.getElementById('fileStatus');
    const endSound = document.getElementById('endSound');

    startGameButton.addEventListener('click', setupGame);
    correctButton.addEventListener('click', correctWord);
    skipButton.addEventListener('click', skipWord);
    nextRoundButton.addEventListener('click', startNextRound);
    wordInput.addEventListener('input', updateWordStatus);
    fileInput.addEventListener('change', handleFileUpload);

    function updateWordStatus() {
      const inputWords = wordInput.value.split(',').map(word => word.trim()).filter(word => word !== '');
      wordStatus.textContent = `Cuvinte: ${inputWords.length}`;
    }

    function handleFileUpload(event) {
      const file = event.target.files[0];
      if (file) {
        const reader = new FileReader();
        reader.onload = function(e) {
          const content = e.target.result;
          words = content.split(/[,\n\r\t]+/).map(word => word.trim()).filter(word => word !== '');
          fileStatus.textContent = `Încărcat: ${words.length} cuvinte`;
          wordInput.value = words.join(', ');
          updateWordStatus();
        };
        reader.onerror = function() {
          fileStatus.textContent = 'Eroare la citire';
        };
        reader.readAsText(file);
      }
    }

    function setupGame() {
      words = wordInput.value.split(',').map(word => word.trim()).filter(word => word !== '');
      
      if (words.length === 0) {
        alert('Introduceți cuvinte sau încărcați un fișier.');
        return;
      }

      teams = Array.from(teamInputs.children).map((input, index) => ({
        name: input.value || `Echipa ${index + 1}`,
        score: 0
      }));

      setup.style.display = 'none';
      gameArea.style.display = 'flex';
      updateTeamScores();
      nextWord();
      startTimer();
      updateCurrentTeamScore();
    }

    function updateTeamScores() {
      teamScores.innerHTML = teams.map(team => 
        `<div><span>${team.name}</span><span>${team.score}</span></div>`
      ).join('');
    }

    function updateCurrentTeamScore() {
      currentTeamScore.textContent = `${teams[currentTeamIndex].name}: ${teams[currentTeamIndex].score}`;
    }

    function nextWord() {
      currentWord = words[Math.floor(Math.random() * words.length)];
      wordDisplay.textContent = currentWord;
    }

    function correctWord() {
      teams[currentTeamIndex].score++;
      updateTeamScores();
      updateCurrentTeamScore();
      nextWord();
    }

    function skipWord() {
      nextWord();
    }

    function startTimer() {
      clearInterval(timer);
      timeLeft = 60;
      timerDisplay.textContent = timeLeft;
      timer = setInterval(() => {
        timeLeft--;
        timerDisplay.textContent = timeLeft;
        if (timeLeft === 0) {
          clearInterval(timer);
          endSound.play();
          endTurn();
        }
      }, 1000);
    }

    function endTurn() {
      nextRoundButton.style.display = 'block';
      correctButton.disabled = true;
      skipButton.disabled = true;
    }

    function startNextRound() {
      currentTeamIndex = (currentTeamIndex + 1) % teams.length;
      updateCurrentTeamScore();
      startTimer();
      nextWord();
      nextRoundButton.style.display = 'none';
      correctButton.disabled = false;
      skipButton.disabled = false;
    }
  </script>
</body></html>